# DBeaver で MySQL に接続する方法

このプロジェクトのMySQLデータベースをDBeaverで確認する方法を説明します。

## 接続情報

| 項目 | 値 |
|------|-----|
| **ホスト** | `localhost` または `127.0.0.1` |
| **ポート** | `3306` |
| **データベース名** | `laravel` |
| **ユーザー名** | `root` |
| **パスワード** | `root` |

## 接続手順

### 1. DBeaverを起動

DBeaverを開きます。

### 2. 新しいデータベース接続を作成

1. **「新しいデータベース接続」** をクリック
   - 左上の「接続の作成」アイコンをクリック
   - または メニュー → データベース → 新しいデータベース接続

2. **データベースの選択**
   - **MySQL** を選択
   - 「次へ」をクリック

### 3. 接続設定を入力

以下の情報を入力してください：

```
ホスト: localhost
ポート: 3306
データベース: laravel
ユーザー名: root
パスワード: root
```

### 4. 接続テスト

1. **「接続のテスト」** をクリック
2. **「OK」** をクリックして接続を保存

### 5. データベースを確認

1. 作成した接続を右クリック
2. **「接続」** を選択
3. **データベースブラウザ** で以下のテーブルを確認できます：
   - `users` - ユーザー情報
   - `personal_access_tokens` - 認証トークン
   - `sessions` - セッション情報
   - その他のLaravelのテーブル

## テーブル構造

### users テーブル

| カラム名 | 型 | 説明 |
|---------|-----|------|
| id | bigint | 主キー |
| name | varchar(255) | ユーザー名 |
| email | varchar(255) | メールアドレス |
| email_verified_at | timestamp | メール認証日時 |
| password | varchar(255) | パスワード（ハッシュ化） |
| remember_token | varchar(100) | ログイン記憶トークン |
| created_at | timestamp | 作成日時 |
| updated_at | timestamp | 更新日時 |

## 確認手順

1. **会員登録を実行**
   - http://localhost:3000/register にアクセス
   - 適当な情報を入力して登録

2. **DBeaverで確認**
   - `users` テーブルを開く
   - 新規登録したユーザー情報を確認
   - `personal_access_tokens` テーブルでトークンを確認

## トラブルシューティング

### 接続エラーが出る場合

1. **Dockerコンテナが起動しているか確認**
   ```bash
   docker compose ps
   ```

2. **MySQLが起動しているか確認**
   ```bash
   docker compose logs db
   ```

3. **ポート3306が使用可能か確認**
   - 他のMySQLサーバーが起動していないか確認

### 接続情報が間違っている場合

- docker-compose.yml の環境変数を確認
- 最新の接続情報に更新

## 補足

- データベースは Docker ボリューム `db_data` に永続化されています
- `docker compose down -v` を実行するとデータが削除されます
- 本番環境ではパスワードを変更してください

